# On Using GUI Interaction Data to Improve Text Retrieval-based Bug Localization

- International Conference on Software Engineering 2024

- [paper](https://ieeexplore.ieee.org/iel8/10548016/10548053/10548359.pdf)

- Qwen2.5 & ChatGPT4o

- [x] 人工修正

## 动机

在软件开发过程中，定位和修复错误是极其重要的任务。现有的研究已经将这一任务转化为基于文本检索的问题，通过比较错误报告和源代码之间的文本相似性来识别潜在的错误文件。然而，错误报告与源代码之间存在明显的语义差距。对于面向用户的软件应用，图形用户界面（GUI）提供了一种尚未充分探索的信息来源，可能有助于改善错误定位。本研究旨在探讨利用GUI交互数据是否能够提高基于文本检索的错误定位技术的效果。

## 创新点

1. 构建了一个包含80个完全定位且可复现的Android应用程序错误的数据集。
2. 首次系统地评估了GUI交互数据对四种基于文本检索的错误定位技术的影响。
3. 提出了三种利用GUI信息增强错误定位的方法：过滤、提升和查询重写。
4. 通过定量分析证明了利用GUI信息可以显著提高错误定位的准确性。

## 与现有方法的区别

现有方法主要集中在处理缺陷报告或源代码中的文本，或者从其他信息源自动增强从缺陷报告生成的查询。而本文的方法则是引入了GUI交互信息，这是之前的工作中未被探索过的一个新的信息源。
本文的方法不仅考虑了文本相似度，还通过GUI交互数据弥补了缺陷报告与源代码之间的语义鸿沟，从而提高了定位准确性。

## 详细方法

首先，研究者假设，在处理用户界面主导的软件（例如移动应用程序）的缺陷报告时，将缺陷报告中的信息与GUI（图形用户界面）交互信息相结合，能够改善基于文本检索的缺陷定位效果。这是因为GUI交互信息与应用程序的功能和用户操作相关，能够补充缺陷报告中可能缺失的细节，缩小缺陷报告与代码之间的语义差距。

然后，研究者提出了三种利用GUI交互信息的方法来增强传统的文本检索技术：
过滤：通过使用GUI交互信息，过滤掉与错误的GUI屏幕无关的文件。
提升：将与错误的GUI屏幕相关的文件在检索结果中提升到更高的排名。
重构查询：将GUI屏幕或交互组件的信息添加到缺陷报告中，以构建一个更完整的查询。
接着，研究者从现有的四种文本检索基准方法（BugLocator、Lucene、SentenceBERT和UniXCoder）中，选取并扩展了这些方法以测试上述增强手段的效果。这些基准方法使用缺陷报告作为查询，并根据与源代码中文本的相似性，生成一个可能包含错误的文件列表。研究者将每种方法与不同的GUI信息增强技术组合，进行大量实验对比。

最后，研究者构建了一个数据集，该数据集包含80个可重现的Android应用程序中的实际缺陷，这些缺陷来自39个流行的开源应用程序。每个缺陷报告都与相应的GUI交互数据（包括错误屏幕、交互组件、屏幕快照、UI层级结构等）关联。为了确保实验结果的可靠性，研究人员对不同的GUI信息类型（如错误屏幕、用户交互组件等）和不同数量的屏幕数据进行了多次测试，分析其对检索性能的影响。

## 研究问题

- **RQ1.** GUI交互信息能否提高基于文本检索的缺陷定位的准确性？
- **RQ2.** 不同类型的GUI交互信息如何影响缺陷定位的效果？
- **RQ3.** 基于GUI的增强方法如何与不同类型的文本表示技术结合使用？

### 评价指标

Hits@10：衡量前10个检索结果中包含正确错误文件的比例。
Wilcoxon符号秩检验：用于比较不同方法之间的统计显著性差异。

### 每个研究问题的结果

**RQ1.** 为了回答第一个研究问题，作者比较了增强前后基线技术的Hits@10得分，结果显示，所有基线技术在引入GUI信息后，其Hits@10得分均有13-18%的提升。

**RQ2.** 对于第二个研究问题，作者分析了不同类型的GUI交互信息（如点击、滑动等）对定位效果的影响，虽然具体细节未详细描述，但整体上表明，使用GUI信息有助于提高定位精度。

**RQ3.** 第三个研究问题的解决涉及到了对不同文本表示技术的适应性测试，结果显示，尽管基线技术之间存在差异，但基于GUI的增强方法能够普遍提高所有技术的性能。

## 有效性威胁

数据集的手动标注过程可能存在主观性，尽管通过严格的流程和高一致性的编码者协议来最小化这种风险。
选择的基线技术可能对研究结论的有效性构成内部威胁，因为这些技术在实际表现上存在差异。
尽管分析了大量的数据组合，但由于构建数据集所需的努力，更大的报告集合将为结果提供额外的信心，因此外部有效性受到了一定的限制。

## 未来展望

未来的工作将探索其他利用GUI交互数据增强现有定位技术的方法，包括移动应用和其他类型系统的应用。进行*用户研究(human studies)*，以验证在实践中使用GUI交互信息进行错误定位的实际效益。